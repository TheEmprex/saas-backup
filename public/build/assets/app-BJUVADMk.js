var e,t=(e,t,n)=>new Promise((o,s)=>{var i=e=>{try{a(n.next(e))}catch(t){s(t)}},r=e=>{try{a(n.throw(e))}catch(t){s(t)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,r);a((n=n.apply(e,t)).next())});import{a as n}from"./utils-Co1HA6re.js";import{r as o,E as s}from"./realtime-uSw6sBMp.js";import{g as i}from"./react-vendor-HnKmhvXM.js";import{_ as r}from"./preload-helper-Cqtb6kru.js";const a=i(o());function c(e){return t(this,arguments,function*(e,t={}){const n=new Headers(t.headers||{});n.set("Accept",n.get("Accept")||"application/json");const o=(null==(s=document.querySelector('meta[name="csrf-token"]'))?void 0:s.getAttribute("content"))||"";var s;o&&n.set("X-CSRF-TOKEN",o);const i={method:t.method||"GET",credentials:t.credentials||"same-origin",headers:n,signal:t.signal,body:t.body};!i.body||i.body instanceof FormData||"object"==typeof i.body&&(n.set("Content-Type",n.get("Content-Type")||"application/json"),i.body=JSON.stringify(i.body));const r=yield fetch(e,i);let a=null;if((r.headers.get("content-type")||"").includes("application/json"))try{a=yield r.json()}catch(c){a=null}else try{a=yield r.text()}catch(c){a=null}if(!r.ok){401!==r.status&&419!==r.status||window.dispatchEvent(new CustomEvent("auth:required",{detail:{status:r.status}}));const e=new Error(`Request failed: ${r.status}`);throw e.response=r,e.data=a,e.status=r.status,e}return{ok:!0,status:r.status,data:a,response:r}})}window.Pusher=a,a.logToConsole=!1,window.Echo=new s({broadcaster:"pusher",key:"CHANGEME_REVERB_APP_KEY",cluster:"mt1",forceTLS:!0,wsHost:"onlyverified.io",wsPort:Number("443"),wssPort:Number("443"),enabledTransports:["ws","wss"],auth:{headers:{"X-CSRF-TOKEN":(null==(e=document.querySelector('meta[name="csrf-token"]'))?void 0:e.getAttribute("content"))||"",Accept:"application/json"}},enabledLogging:!1,logToConsole:!1}),window.Echo.connector.pusher.connection.bind("connected",()=>{window.dispatchEvent(new CustomEvent("echo:connected"))}),window.Echo.connector.pusher.connection.bind("disconnected",()=>{window.dispatchEvent(new CustomEvent("echo:disconnected"))}),window.Echo.connector.pusher.connection.bind("error",e=>{window.dispatchEvent(new CustomEvent("echo:error",{detail:e}))}),window.apiFetch=window.apiFetch||c,window.axios=n,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const d=document.head.querySelector('meta[name="csrf-token"]');d&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=d.content),window.apiFetch=c,function(e={}){const{immediate:n=!1,onNeedRefresh:o,onOfflineReady:s,onRegistered:i,onRegisteredSW:a,onRegisterError:c}=e;let d,l;l=function(){return t(this,null,function*(){if("serviceWorker"in navigator){if(d=yield r(()=>t(null,null,function*(){const{Workbox:e}=yield import("./workbox-window.prod.es5-DMXp7Fa7.js");return{Workbox:e}}),[]).then(({Workbox:e})=>new e("/build/sw.js",{scope:"/build/",type:"classic"})).catch(e=>{null==c||c(e)}),!d)return;d.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),d.addEventListener("installed",e=>{e.isUpdate||null==s||s()}),d.register({immediate:n}).then(e=>{a?a("/build/sw.js",e):null==i||i(e)}).catch(e=>{null==c||c(e)})}})}()}({immediate:!0,onRegistered(e){},onRegisterError(e){}});
